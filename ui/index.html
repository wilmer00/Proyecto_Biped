<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Control de Piernas Rob√≥ticas</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <link rel="stylesheet" href="index.css"/>
</head>
<body>
    <div class="container">
        <header>
            <h1>ü¶ø Control de Piernas Rob√≥ticas ü¶ø</h1>
            <p>
                <span class="status-indicator status-connected" id="status-indicator"></span>
                <span id="connection-status">Conectado</span>
            </p>
        </header>

        <div class="grid">
            <!-- Modelo 3D -->
            <div class="card">
                <h2>Modelo 3D - Piernas</h2>
                <div id="scene-container"></div>
                <div class="info-panel">
                    <div class="info-item">
                        <div class="info-value" id="total-angle">540¬∞</div>
                        <div class="info-label">√Ångulo Total</div>
                    </div>
                    <div class="info-item">
                        <div class="info-value" id="active-servos">6</div>
                        <div class="info-label">Servos Activos</div>
                    </div>
                </div>
            </div>

            <!-- C√°mara -->
            <div class="card">
                <h2>Vista de C√°mara</h2>
                <div id="video-container">
                    <video id="camera-feed" autoplay playsinline></video>
                    <div class="camera-status camera-inactive" id="camera-status">C√°mara Local</div>
                </div>
            </div>
        </div>

        <!-- Controles de Movimiento -->
        <div class="card">
            <h2>Controles de Movimiento</h2>
            <div class="controls">
                <div></div>
                <button class="control-btn" onclick="sendCommand('W')">‚Üë<br>Avanzar (W)</button>
                <div></div>
                <button class="control-btn" onclick="sendCommand('A')">‚Üê<br>Izq (A)</button>
                <button class="control-btn" onclick="sendCommand('STOP')">‚èπ<br>Stop</button>
                <button class="control-btn" onclick="sendCommand('D')">‚Üí<br>Der (D)</button>
                <div></div>
                <button class="control-btn" onclick="sendCommand('S')">‚Üì<br>Retroceder (S)</button>
                <div></div>
            </div>
        </div>

        <!-- Control de Servos -->
        <div class="card">
            <h2>Control Individual de Servos (PID)</h2>
            <div class="servo-controls" id="servo-controls"></div>
        </div>

        <!-- Gr√°ficas -->
        <div class="grid">
            <div class="card">
                <h2>√Ångulos de Servos</h2>
                <div class="chart-container">
                    <canvas id="angles-chart"></canvas>
                </div>
            </div>
            <div class="card">
                <h2>Error de Posici√≥n</h2>
                <div class="chart-container">
                    <canvas id="error-chart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <script src="index.js"></script>
</body>
</html>